<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Decoda - jQuery Option Configuration</title>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="../src/css/decoda.css">
    <link type="text/css" rel="stylesheet" href="../src/css/decoda-theme.css">
    <!--[if lte IE 8]><link type="text/css" rel="stylesheet" href="../src/css/decoda-ie.css"><![endif]-->
    <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/rangyinputs.min.js"></script>
    <script type="text/javascript" src="../src/js/jQuery.Decoda.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <form action="" method="post">
        <div class="input">
          <label for="textarea-1">Custom Tags:</label>
          <textarea id="textarea-1" cols="100" rows="10"></textarea>
        </div>

        <div class="input">
          <label for="textarea-2">onRenderToolbar Event:</label>
          <textarea id="textarea-2" cols="100" rows="10"></textarea>
        </div>

        <div class="input">
          <label for="textarea-3">onSubmit Event:</label>
          <textarea id="textarea-3" cols="100" rows="10"></textarea>
        </div>

        <div class="input">
          <label for="textarea-4">onInsert Event:</label>
          <textarea id="textarea-4" cols="100" rows="10"></textarea>
        </div>

        <div class="input">
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>

    <script type="text/javascript">
      $(document).ready(function() {
        $('#textarea-1').decoda({
          open: '{',
          close: '}'
        }).addFilters('default', Decoda.filters.defaults);
        $('#textarea-2').decoda({
          onRenderToolbar: function(ul) {
            console.log('onRender', ul);
            ul.find('button').each(function(index, button) {
              $(button).html($(button).attr('title'));
            });
          }
        }).addFilters('default', Decoda.filters.defaults);
        $('#textarea-3').decoda({
          onSubmit: function() {
            console.log('onSubmit', this.textarea);
            return false;
          }
        }).addFilters('default', Decoda.filters.defaults);
        $('#textarea-4').decoda({
          onInsert: function() {
            console.log('onInsert');
            this.textarea.replaceSelectedText('(Inserted via onInsert)', this.collapse.collapseToEnd);
          }
        }).addFilters('default', Decoda.filters.defaults);
      });
    </script>
  </body>
</html>